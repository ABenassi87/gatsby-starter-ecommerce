{"version":3,"sources":["webpack:///./src/components/CartItemList/index.js","webpack:///./src/components/CartSummary/index.js","webpack:///./src/pages/cart.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/Context/CartContext.js","webpack:///./src/components/Context/AuthContext.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/images/moltin-light-hex.svg.svg","webpack:///./src/components/Context/AuthProvider.js","webpack:///./src/components/Context/CartProvider.js","webpack:///./src/components/Header/ShoppingCartIcon.js","webpack:///./src/components/Header/Logo.js","webpack:///./src/components/Header/DesktopMenu.js","webpack:///./src/components/Header/MobileMenu.js","webpack:///./src/components/Header/index.js","webpack:///./src/components/Footer/index.js","webpack:///./src/components/Layout/index.js","webpack:///./lib/moltin.js"],"names":["CartItemList","_ref","items","removeFromCart","loading","completed","react_default","a","createElement","Loader","active","inline","Message","success","Header","length","warning","Item","Group","divided","map","_ref2","id","product_id","name","quantity","meta","image","price","display_price","with_tax","unit","formatted","imageUrl","href","childKey","header","gatsby_browser_entry","to","Fragment","Responsive","Object","assign","as","Image","src","alt","size","style","background","onlyMobile","minWidth","onlyTablet","description","extra","Button","basic","icon","floated","onClick","mapCartItemsToItems","CartSummary","handleCheckout","_ref$display_price$wi","amount","currency","Divider","Segment","clearing","main_default","stripeKey","process","STRIPE_PUBLISHABLE_KEY","shippingAddress","billingAddress","zipCode","token","reconfigureOnUpdate","triggerEvent","color","Moltin","require","Cart","state","_handleCheckout","data","cartId","localStorage","getItem","email","_data$card","card","line_1","address_line1","city","address_city","country","address_country","county","address_state","postcode","address_zip","customer","address","first_name","split","last_name","checkoutCart","then","payForOrder","_this","setState","catch","e","console","log","_handleRemoveFromCart","itemId","context","total","reduce","c","updateCartCount","componentDidMount","_this2","this","getCartItems","_ref3","render","_this3","_this$state","rest","objectWithoutPropertiesLoose_default","Layout","location","props","Helmet_default","title","CartContext","Consumer","item","React","Component","react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","d","__webpack_exports__","createContext","PropTypes","object","string","isRequired","func","AuthContext","m","module","exports","default","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","json","propTypes","shape","AuthProvider","_Component","call","updateToken","Provider","value","children","CartProvider","addToCart","cartCount","Number","setItem","JSON","stringify","mdata","replace","Math","random","toString","parsedData","parse","ShoppingCartIcon","Icon","fontSize","Logo","moltin","marginRight","DesktopMenu","activeItem","componentWillReceiveProps","nextProps","nextPathname","_this$props","Menu","borderless","pointing","Container","text","withPrefix","Link","Header_Logo","position","Header_ShoppingCartIcon","StyledLink","styled","withConfig","displayName","componentId","BurgerButton","CloseButton","extend","_templateObject","StyledSegment","StyledContainer","div","StyledDivider","MobileMenu","open","handleClick","handleClose","aria-label","autoFocus","fitted","Portal","closeOnEscape","onClose","className","role","circular","key","auth","cart","maxWidth","Header_MobileMenu","Header_DesktopMenu","PureComponent","Footer","vertical","padding","marginTop","borderTop","Grid","stackable","Row","Column","width","elements_Header_Header","content","List","horizontal","display","Context_AuthProvider","Context_CartProvider","lang","rel","sizes","type","dist_default","upTolerance","downTolerance","zIndex","height","components_Header","components_Footer","MoltinGateway","gateway","client_id","MOLTIN_CLIENT_ID","login","password","Customers","Token","_data$data","customer_id","getProducts","Products","With","All","getProductById","Get","productId","AddProduct","Items","RemoveItem","billing","Checkout","orderId","Orders","Payment","method","payment","options","receipt_email","register","_objectWithoutPropertiesLoose","Create","_data$data2","getOrders"],"mappings":"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","file":"component---src-pages-cart-js-6136f2165f2f6710b2d5.js","sourcesContent":["import React from 'react'\nimport { Link } from 'gatsby'\nimport { Item, Button, Loader, Message, Responsive } from 'semantic-ui-react'\nimport styled from 'styled-components'\n\nexport default ({ items, removeFromCart, loading, completed }) => {\n  if (loading) return <Loader active inline=\"centered\" />\n\n  if (completed)\n    return (\n      <Message success>\n        <Message.Header>Your placed!</Message.Header>\n        <p>Congratulations. Your order and payment has been accepted.</p>\n      </Message>\n    )\n\n  if (items.length === 0)\n    return (\n      <Message warning>\n        <Message.Header>Your cart is empty</Message.Header>\n        <p>\n          You'll need to add some items to the cart before you can checkout.\n        </p>\n      </Message>\n    )\n  const mapCartItemsToItems = items =>\n    items.map(({ id, product_id, name, quantity, meta, image }) => {\n      const price = meta.display_price.with_tax.unit.formatted || ''\n      const imageUrl = image.href || '/static/moltin-light-hex.svg'\n\n      const DesktopItemImage = () => (\n        <Item.Image\n          src={imageUrl}\n          alt={name}\n          size=\"small\"\n          style={{ background: '#f2f2f2' }}\n        />\n      )\n      const MobileItemImage = () => (\n        <Item.Image\n          src={imageUrl}\n          alt={name}\n          size=\"small\"\n          style={{ background: 'none' }}\n        />\n      )\n\n      return {\n        childKey: id,\n        header: (\n          <Item.Header>\n            <Link to={`/product/${product_id}/`}>{name}</Link>\n          </Item.Header>\n        ),\n        image: (\n          <React.Fragment>\n            <Responsive as={MobileItemImage} {...Responsive.onlyMobile} />\n            <Responsive\n              as={DesktopItemImage}\n              minWidth={Responsive.onlyTablet.minWidth}\n            />\n          </React.Fragment>\n        ),\n        meta: `${quantity}x ${price}`,\n        description: 'Some more information goes here....',\n        extra: (\n          <Button\n            basic\n            icon=\"remove\"\n            floated=\"right\"\n            onClick={() => removeFromCart(id)}\n          />\n        ),\n      }\n    })\n  return <Item.Group divided items={mapCartItemsToItems(items)} />\n}\n","import React from 'react'\nimport StripeCheckout from 'react-stripe-checkout'\nimport { Button, Segment, Divider } from 'semantic-ui-react'\n\nexport default ({\n  handleCheckout,\n  display_price: {\n    with_tax: { amount, currency, formatted },\n  },\n}) => (\n  <div>\n    <Divider />\n    <Segment clearing size=\"large\">\n      <strong>Sub total:</strong> {formatted}\n      <StripeCheckout\n        name=\"Gatsby Store\"\n        amount={amount}\n        currency={currency || 'GBP'}\n        stripeKey={process.env.STRIPE_PUBLISHABLE_KEY || ''}\n        shippingAddress={false}\n        billingAddress\n        zipCode\n        token={handleCheckout}\n        reconfigureOnUpdate={false}\n        triggerEvent=\"onClick\"\n      >\n        <Button color=\"black\" floated=\"right\">\n          Check out\n        </Button>\n      </StripeCheckout>\n    </Segment>\n  </div>\n)\n","import React from 'react'\nimport Helmet from 'react-helmet'\nimport CartItemList from '../components/CartItemList/'\nimport CartSummary from '../components/CartSummary/'\nimport CartContext from '../components/Context/CartContext'\nimport Layout from '../components/Layout'\n\nconst Moltin = require('../../lib/moltin')\n\nexport default class Cart extends React.Component {\n  state = {\n    items: [],\n    loading: true,\n    completed: false,\n  }\n\n  componentDidMount() {\n    const cartId = localStorage.getItem('mcart')\n    Moltin.getCartItems(cartId).then(({ data, meta }) => {\n      this.setState({\n        items: data,\n        meta,\n        cartId,\n        loading: false,\n      })\n    })\n  }\n\n  _handleCheckout = data => {\n    const cartId = localStorage.getItem('mcart')\n    const customerId = localStorage.getItem('mcustomer')\n\n    const {\n      id: token,\n      email,\n      card: {\n        name,\n        address_line1: line_1,\n        address_city: city,\n        address_country: country,\n        address_state: county,\n        address_zip: postcode,\n      },\n    } = data\n\n    const customer = { name, email } // token ? customerId : { name, email };\n\n    const address = {\n      first_name: name.split(' ')[0],\n      last_name: name.split(' ')[1],\n      line_1,\n      city,\n      county,\n      country,\n      postcode,\n    }\n\n    Moltin.checkoutCart(cartId, customer, address)\n      .then(({ data: { id } }) => {\n        Moltin.payForOrder(id, token, email)\n        this.setState({\n          completed: true,\n        })\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n\n  _handleRemoveFromCart = (itemId, context) => {\n    const { cartId } = this.state\n    Moltin.removeFromCart(itemId, cartId).then(({ data, meta }) => {\n      const total = data.reduce((a, c) => a + c.quantity, 0)\n      context.updateCartCount(total, cartId)\n      this.setState({\n        items: data,\n        meta,\n      })\n    })\n  }\n\n  render() {\n    const { meta, ...rest } = this.state\n    const { loading } = rest\n    return (\n      <Layout location={this.props.location}>\n        <Helmet title=\"Cart\" />\n        <CartContext.Consumer>\n          {context => (\n            <CartItemList\n              {...rest}\n              removeFromCart={item => this._handleRemoveFromCart(item, context)}\n            />\n          )}\n        </CartContext.Consumer>\n        {!loading && !rest.completed && (\n          <CartSummary {...meta} handleCheckout={this._handleCheckout} />\n        )}\n      </Layout>\n    )\n  }\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n}\n","import React from 'react'\n\nconst CartContext = React.createContext(null)\n\nexport default CartContext\n","import React from 'react'\n\nconst AuthContext = React.createContext(null)\n\nexport default AuthContext\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyBpZD0iYWxsLWxvZ29zIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMzE1LjA3Njg1IDMzNy44MTk1Ij48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudCIgeDE9IjE0MS4xMDEwOSIgeTE9IjEyMS44OTQyMSIgeDI9IjE2MS45OTk4NSIgeTI9IjIwNC43MTUyMyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIG9mZnNldD0iMC4wMTA5MyIgc3RvcC1jb2xvcj0iI2U2NzQxNyIvPjxzdG9wIG9mZnNldD0iMC45OTk1MiIgc3RvcC1jb2xvcj0iI2U2MmYxNyIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJOZXdfR3JhZGllbnRfU3dhdGNoIiB4MT0iMTU3LjUzNTA1IiB5MT0iMTQ2LjA4MjE0IiB4Mj0iMTU3LjUzNTA1IiB5Mj0iMjQ0Ljc2MTYxIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZjJiYjMwIi8+PHN0b3Agb2Zmc2V0PSIwLjMwOTA1IiBzdG9wLWNvbG9yPSIjZTY3NDE3Ii8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZTYyZjE3Ii8+PC9saW5lYXJHcmFkaWVudD48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudC0yIiB4MT0iMTk1LjU5NTA1IiB5MT0iMTg5LjUzOTU5IiB4Mj0iMjAyLjk3NzQxIiB5Mj0iMTU1LjI2NDM2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9IjAiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48dGl0bGU+bGlnaHQtaGV4PC90aXRsZT48cGF0aCBkPSJNMjM2LjMwNzYzLDEyNi40Njc4M2E1LjI1OTMzLDUuMjU5MzMsMCwwLDAtMi42MjczNS00LjU1MzEzbC03My41MTQyMy00Mi40NDNhNS4yNjQyNyw1LjI2NDI3LDAsMCwwLTUuMjU1MjYsMGwtNzMuNTE0MjIsNDIuNDQzYTUuMjU5MzIsNS4yNTkzMiwwLDAsMC0yLjYyNzM2LDQuNTUzMTN2ODQuODg2YTUuMjU1NzQsNS4yNTU3NCwwLDAsMCwyLjYyNzM2LDQuNTUwOTJsNzMuNTE0MjIsNDIuNDQzYTUuMjY0MjEsNS4yNjQyMSwwLDAsMCw1LjI1NTI2LDBsNzMuNTE0MjMtNDIuNDQzYTUuMjU1NzUsNS4yNTU3NSwwLDAsMCwyLjYyNzM1LTQuNTUwOTJaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTkxLjYyNTQzLDIxMC40MTI4MmE1Ljk3MjgzLDUuOTcyODMsMCwwLDEtMi45ODY0MS01LjE3MjYxdi00My4wOTZhNDIuNjUxMTIsNDIuNjUxMTIsMCwwLDEsMi4xNTEzNC0xNC41ODY3N2MyLjUwNjctNi43NjYwOCw3LjQ2NDM3LTEzLjM4NTI5LDE3LjI5MTY0LTE3LjI4OTA1LDE4LjgyOTY3LTcuNDc5ODUsMzcuNDQwMjYsMi42MzMyOCw0Ny45NTQxMSwxNy42MjUyNSw4LjgyODI3LDEyLjU4ODQ1LDEzLjk4MDcxLDE3LjU5MzU0LDI1LjA4MTgsMjYuMDkyLDkuODI5NzgsNy41MjUxNyw0MC42NTc2LDIxLjA1OSw0NS4zMjAxMi01Ljg5OHYzNy4xNTI2YTUuOTcyODIsNS45NzI4MiwwLDAsMS0yLjk4NjQyLDUuMTcyNjFsLTYyLjkyNjY4LDM2LjMzMDc0YTUuOTcyODMsNS45NzI4MywwLDAsMS01Ljk3MjgyLDBaIiBmaWxsPSJ1cmwoI2xpbmVhci1ncmFkaWVudCkiLz48cGF0aCBkPSJNOTEuNjI1NDMsMjEwLjQxMjgybDYyLjkyNjY4LDM2LjMzMDc0YTUuOTcyODMsNS45NzI4MywwLDAsMCw1Ljk3MjgyLDBsNjIuOTI2NjgtMzYuMzMwNzRhNS45NzI4Miw1Ljk3MjgyLDAsMCwwLDIuOTg2NDItNS4xNzI2MXYtMzcuMTUyNmMwLTI3LjUxOTU5LTMwLjY5NTM3LTI5Ljc5MTU5LTQ2LjUxNS03LjkyMDA3LTEyLjUzODY1LDE3LjMzNTM1LTE4LjA5MjQ5LDIzLjU0Mi0zNC44NzcxLDI5LjY0NTU0LTE5LjY0MzQ0LDcuMTQzMDctMzcuMjc0ODksMy4yNjk3Mi00Ny4zMDIwNi02LjUzOTQ2QTI5Ljg2ODgzLDI5Ljg2ODgzLDAsMCwxLDg4LjYzOSwxNjIuMTQ0MnY0My4wOTZBNS45NzI4Myw1Ljk3MjgzLDAsMCwwLDkxLjYyNTQzLDIxMC40MTI4MloiIGZpbGw9InVybCgjTmV3X0dyYWRpZW50X1N3YXRjaCkiLz48cGF0aCBkPSJNMjI2LjQzOCwxNjguMDg3NjFjMC0yNy41MTk1Ni0zMC42OTUzNy0yOS43OTE2MS00Ni41MTUwOC03LjkyMDA3LTIuMTc2ODEsMy4wMDk2MS00LjE0MDMyLDUuNjc3MTItNS45OTE0NCw4LjA3MzUzLDIuMTM2MSwxLjgxNDQ4LDQuNDg0MTEsMy42NzU4MSw3LjE4NjM4LDUuNzQ0NTRDMTkwLjk0NzY3LDE4MS41MTA3NywyMjEuNzc1NDcsMTk1LjA0NDYyLDIyNi40MzgsMTY4LjA4NzYxWiIgb3BhY2l0eT0iMC4zIiBmaWxsPSJ1cmwoI2xpbmVhci1ncmFkaWVudC0yKSIvPjwvc3ZnPg==\"","import React, { Component } from 'react'\nimport AuthContext from './AuthContext'\n\nclass AuthProvider extends Component {\n  constructor(props) {\n    super(props)\n\n    this.updateToken = () =>\n      this.setState({\n        token: localStorage.getItem('customerToken'),\n      })\n\n    this.state = {\n      token: null,\n      updateToken: this.updateToken,\n    }\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('customerToken')\n\n    this.setState({\n      token,\n    })\n  }\n\n  render() {\n    const { token, updateToken } = this.state\n    return (\n      <AuthContext.Provider\n        value={{\n          token,\n          updateToken,\n        }}\n      >\n        {this.props.children}\n      </AuthContext.Provider>\n    )\n  }\n}\n\nexport default AuthProvider\n","import React, { Component } from 'react'\nimport CartContext from './CartContext'\n\nclass CartProvider extends Component {\n  constructor(props) {\n    super(props)\n\n    this.addToCart = (quantity, cartId) => {\n      const cartCount = Number(this.state.cartCount) + Number(quantity)\n      localStorage.setItem('mdata', JSON.stringify({ cartId, cartCount }))\n\n      return this.setState(() => ({\n        cartCount,\n      }))\n    }\n\n    this.updateCartCount = (cartCount, cartId) => {\n      localStorage.setItem('mdata', JSON.stringify({ cartId, cartCount }))\n\n      this.setState(() => ({\n        cartCount,\n      }))\n    }\n\n    this.state = {\n      cartId: null,\n      cartCount: 0,\n      addToCart: this.addToCart,\n      updateCartCount: this.updateCartCount,\n    }\n  }\n\n  componentDidMount() {\n    const cartId = localStorage.getItem('mcart')\n\n    // Note: Instead of localStorage you can use moltin api & Moltin.getCartItems(cartId) instead\n    const mdata = localStorage.getItem('mdata')\n\n    if ((cartId && !mdata) || !cartId) {\n      const cartId = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'.replace(/[x]/g, () =>\n        ((Math.random() * 16) | 0).toString(16)\n      )\n      localStorage.setItem('mcart', cartId)\n      localStorage.setItem('mdata', JSON.stringify({ cartId, cartCount: 0 }))\n      this.setState({\n        cartId,\n      })\n    } else {\n      const data = localStorage.getItem('mdata')\n      const parsedData = JSON.parse(data)\n      this.setState({\n        cartCount: parsedData.cartCount || 0,\n      })\n    }\n  }\n\n  render() {\n    return (\n      <CartContext.Provider\n        value={{\n          ...this.state,\n        }}\n      >\n        {this.props.children}\n      </CartContext.Provider>\n    )\n  }\n}\n\nexport default CartProvider\n","import React from 'react'\nimport { Icon } from 'semantic-ui-react'\n\nconst ShoppingCartIcon = ({ cartCount, name }) => {\n  const showCartCount = () => {\n    if (!cartCount) {\n      return `(0)`\n    } else if (cartCount > 9) {\n      return (\n        <span style={{ fontSize: 'smaller' }}>\n          (9<sup>+</sup>)\n        </span>\n      )\n    }\n    return `(${cartCount})`\n  }\n  return (\n    <div>\n      <Icon name=\"cart\" />\n      {` ${name} `}\n      {showCartCount()}\n    </div>\n  )\n}\n\nexport default ShoppingCartIcon\n","import React from 'react'\nimport { Image } from 'semantic-ui-react'\n\nimport moltin from '../../images/moltin-light-hex.svg.svg'\n\nconst Logo = () => (\n  <Image\n    size=\"mini\"\n    src={moltin}\n    style={{ marginRight: '1.5em' }}\n    alt=\"I love Lamp\"\n  />\n)\n\nexport default Logo\n","import React, { Component } from 'react'\nimport { Link, withPrefix } from 'gatsby'\nimport { Menu, Container, Icon } from 'semantic-ui-react'\nimport ShoppingCartIcon from './ShoppingCartIcon'\nimport Logo from './Logo'\n\nclass DesktopMenu extends Component {\n  state = {\n    activeItem: this.props.location.pathname,\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextPathname = nextProps.location.pathname\n    const currentPathname = this.props.location.pathname\n\n    if (nextPathname !== currentPathname) {\n      this.setState({\n        activeItem: nextPathname,\n      })\n    }\n  }\n\n  render() {\n    const { activeItem } = this.state\n    const { token, cartCount } = this.props\n    return (\n      <Menu size=\"huge\" borderless pointing>\n        <Container text>\n          <Menu.Item\n            active={activeItem === withPrefix('/')}\n            as={Link}\n            to=\"/\"\n            header\n          >\n            <Logo />\n            Starter Store\n          </Menu.Item>\n          {token ? (\n            <Menu.Menu position=\"right\">\n              <Menu.Item\n                as={Link}\n                to=\"/myaccount/\"\n                active={activeItem === withPrefix('/myaccount/')}\n              >\n                <Icon name=\"user\" />\n                My Account\n              </Menu.Item>\n              <Menu.Item\n                as={Link}\n                to=\"/cart/\"\n                active={activeItem === withPrefix('/cart/')}\n              >\n                <ShoppingCartIcon cartCount={cartCount} name=\"Cart\" />\n              </Menu.Item>\n            </Menu.Menu>\n          ) : (\n            <Menu.Menu position=\"right\">\n              <Menu.Item\n                as={Link}\n                to=\"/register/\"\n                active={activeItem === withPrefix('/register/')}\n              >\n                Sign up\n              </Menu.Item>\n              <Menu.Item\n                as={Link}\n                to=\"/login/\"\n                active={activeItem === withPrefix('/login/')}\n              >\n                Sign in\n              </Menu.Item>\n              <Menu.Item\n                as={Link}\n                to=\"/cart/\"\n                active={activeItem === withPrefix('/cart/')}\n              >\n                <ShoppingCartIcon cartCount={cartCount} name=\"Cart\" />\n              </Menu.Item>\n            </Menu.Menu>\n          )}\n        </Container>\n      </Menu>\n    )\n  }\n}\n\nexport default DesktopMenu\n","import React, { Component } from 'react'\nimport { Link, withPrefix } from 'gatsby'\nimport {\n  Menu,\n  Container,\n  Icon,\n  Portal,\n  Segment,\n  Divider,\n  Button,\n} from 'semantic-ui-react'\nimport styled from 'styled-components'\nimport ShoppingCartIcon from './ShoppingCartIcon'\nimport Logo from './Logo'\n\nconst StyledLink = styled(Link)`\n  font-weight: bold;\n  text-align: center;\n  font-size: 2em;\n  &:hover {\n    text-decoration: underline;\n  }\n`\n\nconst BurgerButton = styled(Button)`\n  &&& {\n    font-size: 1rem;\n    padding: 0.785em 1.5em;\n    box-shadow: 0 0 0 1px transparent inset,\n      0 0 0 0 rgba(34, 36, 38, 0.15) inset;\n  }\n`\nconst CloseButton = BurgerButton.extend`\n  &&& {\n    position: absolute;\n    top: -4em;\n    right: 0em;\n    padding: 0.5em;\n    font-size: 1.5em;\n    width: 2em;\n    height: 2em;\n  }\n`\n\nconst StyledSegment = styled(Segment)`\n  &&& {\n    position: fixed;\n    top: -1em;\n    left: 0vw;\n    z-index: 1000;\n    width: 100vw;\n    height: 110vh;\n  }\n`\n\nconst StyledContainer = styled.div`\n  &&& {\n    margin-top: 6em;\n    text-align: center;\n    position: relative;\n  }\n`\n\nconst StyledDivider = styled(Divider)`\n  &&& {\n    margin: 2em;\n  }\n`\n\nclass MobileMenu extends Component {\n  state = {\n    open: false,\n    activeItem: this.props.location.pathname,\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextPathname = nextProps.location.pathname\n    const currentPathname = this.props.location.pathname\n\n    if (nextPathname !== currentPathname) {\n      this.setState({\n        activeItem: nextPathname,\n      })\n    }\n  }\n\n  handleClick = () => this.setState({ open: !this.state.open })\n\n  handleClose = () => this.setState({ open: false })\n\n  render() {\n    const { open, activeItem } = this.state\n    const { token, cartCount } = this.props\n\n    return (\n      <Menu size=\"huge\" borderless pointing>\n        <Container text>\n          <Menu.Item\n            as={Link}\n            to=\"/\"\n            header\n            active={activeItem === withPrefix('/')}\n          >\n            <Logo />\n            Store\n          </Menu.Item>\n          <Menu.Menu position=\"right\">\n            <Menu.Item\n              as={Link}\n              to=\"/cart/\"\n              active={activeItem === withPrefix('/cart/')}\n            >\n              <ShoppingCartIcon cartCount={cartCount} name=\"\" />\n            </Menu.Item>\n            <Menu.Item position=\"right\">\n              <BurgerButton\n                basic\n                onClick={this.handleClick}\n                aria-label=\"Open Navigation Menu\"\n                autoFocus\n              >\n                <Icon fitted name=\"bars\" />\n              </BurgerButton>\n            </Menu.Item>\n          </Menu.Menu>\n          <Portal closeOnEscape onClose={this.handleClose} open={open}>\n            <StyledSegment className role=\"dialog\" aria-label=\"Navigation Menu\">\n              <StyledContainer>\n                <CloseButton\n                  aria-label=\"Close Navigation\"\n                  basic\n                  circular\n                  onClick={this.handleClose}\n                  autoFocus\n                >\n                  X\n                </CloseButton>\n                <StyledLink to=\"/\" onClick={this.handleClose}>\n                  Home\n                </StyledLink>\n                <StyledDivider />\n                <StyledLink to=\"/cart/\" onClick={this.handleClose}>\n                  {`Shopping Cart ${cartCount ? `(${cartCount})` : ''}`}\n                </StyledLink>\n                <StyledDivider />\n                {token ? (\n                  <StyledLink to=\"/myaccount/\" onClick={this.handleClose}>\n                    My Account\n                  </StyledLink>\n                ) : (\n                  [\n                    <StyledLink\n                      to=\"/register/\"\n                      onClick={this.handleClose}\n                      key={1}\n                    >\n                      Sign Up\n                    </StyledLink>,\n                    <StyledDivider key={2} />,\n                    <StyledLink to=\"/login/\" onClick={this.handleClose} key={3}>\n                      Sign In\n                    </StyledLink>,\n                  ]\n                )}\n              </StyledContainer>\n            </StyledSegment>\n          </Portal>\n        </Container>\n      </Menu>\n    )\n  }\n}\n\nexport default MobileMenu\n","import React from 'react'\nimport { Responsive } from 'semantic-ui-react'\nimport DesktopMenu from './DesktopMenu'\nimport MobileMenu from './MobileMenu'\nimport AuthContext from '../Context/AuthContext'\nimport CartContext from '../Context/CartContext'\n\nclass Header extends React.PureComponent {\n  render() {\n    return (\n      <AuthContext.Consumer>\n        {auth => (\n          <CartContext.Consumer>\n            {cart => (\n              <React.Fragment>\n                <Responsive maxWidth={Responsive.onlyMobile.maxWidth}>\n                  <MobileMenu\n                    location={this.props.location}\n                    token={auth.token}\n                    cartCount={cart.cartCount}\n                  />\n                </Responsive>\n                <Responsive minWidth={Responsive.onlyTablet.minWidth}>\n                  <DesktopMenu\n                    location={this.props.location}\n                    token={auth.token}\n                    cartCount={cart.cartCount}\n                  />\n                </Responsive>\n              </React.Fragment>\n            )}\n          </CartContext.Consumer>\n        )}\n      </AuthContext.Consumer>\n    )\n  }\n}\n\nexport default Header\n","import React from 'react'\nimport { Link } from 'gatsby'\nimport { Segment, Container, Grid, List, Header } from 'semantic-ui-react'\n\nconst Footer = () => (\n  <Segment\n    vertical\n    style={{\n      padding: '4em 0em',\n      marginTop: '3em',\n      borderTop: '1px solid #f2f2f2',\n    }}\n  >\n    <Container text>\n      <Grid stackable>\n        <Grid.Row>\n          <Grid.Column width={4}>\n            <Header as=\"h4\" content=\"About\" />\n            <List>\n              <List.Item as={Link} to=\"/privacy/\">\n                Privacy\n              </List.Item>\n              <List.Item as={Link} to=\"/terms/\">\n                Terms\n              </List.Item>\n            </List>\n          </Grid.Column>\n          <Grid.Column width={5}>\n            <Header as=\"h4\" content=\"Services\" />\n            <List>\n              <List.Item as={Link} to=\"/\">\n                Our Products\n              </List.Item>\n            </List>\n          </Grid.Column>\n          <Grid.Column width={7}>\n            <Header as=\"h4\">Footer Header</Header>\n            <p>\n              Extra space for a call to action inside the footer that could help\n              re-engage users.\n            </p>\n            <List horizontal style={{ display: 'flex' }}>\n              <List.Item\n                icon=\"twitter\"\n                style={{ display: 'flex' }}\n                content={\n                  <a href=\"https://twitter.com/parmsang\" alt=\"twitter link\">\n                    Twitter\n                  </a>\n                }\n              />\n              <List.Item\n                icon=\"facebook\"\n                style={{ display: 'flex' }}\n                content={\n                  <a href=\"https://facebook.com/\" alt=\"facebook link\">\n                    Facebook\n                  </a>\n                }\n              />\n              <List.Item\n                icon=\"mail\"\n                style={{ display: 'flex' }}\n                content={\n                  <a href=\"#\" alt=\"email link\">\n                    Email\n                  </a>\n                }\n              />\n            </List>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Container>\n  </Segment>\n)\n\nexport default Footer\n","import React from 'react'\nimport { Container } from 'semantic-ui-react'\nimport Headroom from 'react-headroom'\nimport Helmet from 'react-helmet'\nimport { withPrefix } from 'gatsby'\nimport 'semantic-ui-css/semantic.min.css'\nimport AuthProvider from '../Context/AuthProvider'\nimport CartProvider from '../Context/CartProvider'\nimport Header from '../Header'\nimport Footer from '../Footer'\n\nclass Layout extends React.PureComponent {\n  render() {\n    const { location, children } = this.props\n\n    return (\n      <AuthProvider>\n        <CartProvider>\n          <Helmet\n            meta={[\n              {\n                name: 'description',\n                content: 'A starter eCommerce website made using GatsbyJS',\n              },\n              { name: 'keywords', content: 'ecommerce, gatsby, moltin' },\n              { name: 'msapplication-TileColor', content: '#da532c' },\n              { name: 'theme-color', content: '#ffffff' },\n            ]}\n          >\n            <html lang=\"en\" />\n            <link\n              rel=\"apple-touch-icon\"\n              sizes=\"180x180\"\n              href={withPrefix('/favicons/apple-touch-icon.png')}\n            />\n            <link\n              rel=\"icon\"\n              type=\"image/png\"\n              sizes=\"32x32\"\n              href={withPrefix('/favicons/favicon-32x32.png')}\n            />\n            <link\n              rel=\"icon\"\n              type=\"image/png\"\n              sizes=\"16x16\"\n              href={withPrefix('/favicons/favicon-16x16.png')}\n            />\n          </Helmet>\n          <Headroom\n            upTolerance={10}\n            downTolerance={10}\n            style={{ zIndex: '20', height: '6.5em' }}\n          >\n            <Header location={location} />\n          </Headroom>\n          <Container text>{children}</Container>\n          <Footer />\n        </CartProvider>\n      </AuthProvider>\n    )\n  }\n}\n\nexport default Layout\n","// require('regenerator-runtime/runtime')\n\nconst MoltinGateway = require(`@moltin/sdk`).gateway\n\nconst Moltin = MoltinGateway({\n  client_id:\n    process.env.MOLTIN_CLIENT_ID ||\n    'j6hSilXRQfxKohTndUuVrErLcSJWP15P347L6Im0M4',\n})\n\nconst getProducts = () => Moltin.Products.With('main_image').All()\n\nconst getProductById = id => Moltin.Products.With('main_image').Get(id)\n\nconst addToCart = (cartId, productId, quantity) =>\n  Moltin.Cart(cartId).AddProduct(productId, quantity)\n\nconst getCartItems = id => Moltin.Cart(id).Items()\n\nconst removeFromCart = (productId, cartId) =>\n  Moltin.Cart(cartId).RemoveItem(productId)\n\nconst checkoutCart = (cartId, customer, billing) =>\n  Moltin.Cart(cartId).Checkout(customer, billing)\n\nconst payForOrder = (orderId, token, email) =>\n  Moltin.Orders.Payment(orderId, {\n    gateway: 'stripe',\n    method: 'purchase',\n    payment: token,\n    options: {\n      receipt_email: email,\n    },\n  })\n\nconst login = ({ email, password }) =>\n  Moltin.Customers.Token(email, password).then(data => {\n    const {\n      data: { customer_id: id, token },\n    } = data\n    return {\n      id,\n      token,\n    }\n  })\n\nconst register = ({ email, password, ...rest }) =>\n  Moltin.Customers.Create({\n    email,\n    password,\n    type: 'customer',\n    ...rest,\n  }).then(data => {\n    const {\n      data: { name, id },\n    } = data\n    return login({ email, password }).then(data => {\n      const { token } = data\n      return {\n        id,\n        name,\n        email,\n        token,\n      }\n    })\n  })\n\nconst getOrders = token => Moltin.Orders.With('items').All(token)\n\nmodule.exports = {\n  getProducts,\n  getProductById,\n  addToCart,\n  getCartItems,\n  removeFromCart,\n  checkoutCart,\n  payForOrder,\n  register,\n  login,\n  getOrders,\n}\n"],"sourceRoot":""}